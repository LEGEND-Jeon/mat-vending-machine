<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>결제 취소</title>
</head>
<body>
    <button id="cancelButton">결제 취소</button>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script>
        $('#cancelButton').click(function () {
            var IMP = window.IMP; // 생략가능
            IMP.init('imp43035337'); // 가맹점 식별코드를 입력하세요

            // 결제 취소 정보 설정
            var cancelData = {
                imp_uid: 'imp_400288796791', // 결제 고유 번호
                merchant_uid: 'T2', // 상점에서 생성한 고유 주문번호
            };

            IMP.request_cancel(cancelData, function (rsp) {
                console.log(rsp);
                if (rsp.success) {
                    var msg = '결제가 취소되었습니다.';
                    msg += '취소된 금액 : ' + rsp.amount;
                    alert(msg);
                    // 취소가 성공했을 때 실행할 코드를 추가할 수 있습니다.
                } else {
                    var msg = '결제 취소에 실패하였습니다.';
                    msg += '에러내용 : ' + rsp.error_msg;
                    alert(msg);
                }
            });
        });
    </script>
</body>
</html>
